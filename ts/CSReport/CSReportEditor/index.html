<!DOCTYPE html>
<html lang="en-US">
<head>
    <title>Report Editor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="wrapper">

    <header>

        <div id="header">
            <ul class="nav topbar">
                <li><a>File</a>
                    <ul>
                        <li><a id="mnuFileNew" onclick="CSReportEditor.cMainEditor.fMain.newReportClick()">New</a></li>
                        <li><a id="mnuFileOpen" onclick="CSReportEditor.cMainEditor.fMain.openReportClick()">Open</a></li>
                        <li><a id="mnuFileOpenRecent">Open Recent Files ...</a></li>
                        <li><a id="mnuFileSave" onclick="CSReportEditor.cMainEditor.fMain.saveReportClick()">Save</a></li>
                        <li><a id="mnuFileSaveAs" onclick="CSReportEditor.cMainEditor.fMain.saveAsReportClick()">Save As</a></li>
                        <li class="divider"></li>
                        <li><a id="mnuFilePageSetup">Page Setup</a></li>
                        <li><a id="mnuFilePageSettings">Page Settings</a></li>
                        <li class="divider"></li>
                        <li><a id="mnuFilePreview">Preview</a></li>
                        <li><a id="mnuFilePrint">Print</a></li>
                    </ul>
                </li>
                <li><a>Edit</a>
                    <ul>
                        <li><a id="mnuEditCopy">Copy &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl+C</a></li>
                        <li><a id="mnuEditPaste">Paste &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl+V</a></li>
                        <li><a id="mnuEditPasteSpecial">Paste Special</a></li>
                        <li class="divider"></li>
                        <li><a id="mnuEditSearch">Search &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ctrl+F</a></li>
                        <li class="divider"></li>
                        <li><a>Sections</a>
                            <ul>
                                <li><a id="mnuEditAddHeader">Add Header</a></li>
                                <li><a id="mnuEditAddGroup">Add Group</a></li>
                                <li><a id="mnuEditAddFooter">Add Footer</a></li>
                            </ul>
                        </li>
                        <li><a>Controls</a>
                            <ul>
                                <li><a id="mnuEditAddLabel">Add Label</a></li>
                                <li><a id="mnuEditAddLine">Add Group</a></li>
                                <li><a id="mnuEditAddDatabaseField">Add Field</a></li>
                                <li><a id="mnuEditAddImage">Add Image</a></li>
                                <li><a id="mnuEditAddChart">Add Chart</a></li>
                            </ul>
                        </li>
                        <li class="divider"></li>
                        <li><a>Move</a>
                            <ul>
                                <li><a id="mnuEditMoveHorizontal">Horizontal</a></li>
                                <li><a id="mnuEditMoveVertical">Vertical</a></li>
                                <li><a id="mnuEditMoveLocked">Locked</a></li>
                                <li><a id="mnuEditMoveAll">All Directions</a></li>
                                <li><a id="mnuEditMoveStep">Size of Step</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a>View</a>
                    <ul>
                        <li><a id="mnuViewShowToolbox">Toolbox</a></li>
                        <li><a id="mnuViewShowCtrlsInTree">Controls in Tree</a></li>
                        <li><a>Grid tools</a>
                            <ul>
                                <li><a id="mnuViewGridPoints">Points</a></li>
                                <li><a id="mnuViewGridLines">Lines</a></li>
                                <li><a id="mnuViewGridHidden">Hide Grid</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a>Database</a>
                    <ul>
                        <li><a id="mnuDbConnectionSettings">Connection Settings</a></li>
                        <li><a id="mnuDbParameterSettings">Parameter Settings</a></li>
                        <li><a id="mnuDbConnectionAuxSettings">Additional Connections</a></li>
                        <li><a id="mnuDbSetDisconnected">Not a Database Report</a></li>
                    </ul>
                </li>
                <li><a>Debug</a>
                    <ul>
                        <li><a id="mnuDebugLoadData" onclick="CSReportEditor.cMainEditor.fMain.loadDataClick()">Load Data</a></li>
                    </ul>
                </li>
                <li><a>Tools</a>
                    <ul>
                        <li><a id="mnuToolsSettings">Settings</a></li>
                    </ul>
                </li>
                <li><a>Help</a>
                    <ul>
                        <li><a id="mnuHelpAbout">About</a></li>
                    </ul>
                </li>
            </ul>
        </div>

    </header>
    <ul class="toolbar">
        <li><a href="#" onclick="CSReportEditor.cMainEditor.fMain.newReportClick()"><img src="images/toolbar/file.png">New</a></li>
        <li><a href="#" onclick="CSReportEditor.cMainEditor.fMain.openReportClick()"><img src="images/toolbar/folder-bw.png">Open</a></li>
        <li><a href="#" onclick="CSReportEditor.cMainEditor.fMain.saveReportClick()"><img src="images/toolbar/disk-bw.png">Save</a></li>
        <li><a href="#" onclick="CSReportEditor.cMainEditor.fMain.saveAsReportClick()">Save As</a></li>
        <li><a href="#">DB Connections</a></li>
        <li><a href="#" onclick="CSReportEditor.cMainEditor.fMain.debugnReportClick()"><img src="images/toolbar/debug.png">Debug</a></li>
        <li><a href="#" onclick="CSReportEditor.cMainEditor.fMain.loadDataClick()"><img src="images/toolbar/settings.png">Load Data</a></li>
    </ul>
    <div id="main-view">
        <!-- Tab links -->
        <div class="tab" id="tabReports">
            <div class="tablinks sidebar-tab">
                <button class="tablinks" onclick="CSReportEditor.cMainEditor.showSideBarTab('sidebar-tv-controls')">Report</button>
                <button class="tablinks" onclick="CSReportEditor.cMainEditor.showSideBarTab('sidebar-lv-controls')">Ctrls</button>
                <button class="tablinks" onclick="CSReportEditor.cMainEditor.showSideBarTab('sidebar-lv-database')">DB</button>
                <button class="tablinks" onclick="CSReportEditor.cMainEditor.showSideBarTab('sidebar-lv-properties')">Properties</button>
            </div>
            <!-- this added by code. I let it here just as an example
            <button class="tablinks" onclick="openTab(event, 'Tab1')">Tab 1
                <span class="close" onclick="closeTab(event, 'Tab1')">x</span>
            </button>
            -->
        </div>
        <div id="sidebar">
            <div id="sidebar-tv-controls"></div>
            <div id="sidebar-lv-controls" style="display: none;"></div>
            <div id="sidebar-lv-properties" style="display: none;"></div>
            <div id="sidebar-lv-database" style="display: none;"></div>
        </div>

        <!-- this added by code. I let it here just as an example
        <div id="tbpEditor" class="editor">
            <div id="pnEditor" class="editor-container">
                <div id="picRule" class="rule">
                </div>
                <div id="picReport" class="report">
                </div>
            </div>
        </div>
        -->
        <div id="right-sidebar">
            <div class="inner-row-left" style="height: 60px;">
                <img src="images/properties/config_page.jpg">
                <h1 id="ctrl-lb-name" style="margin-left: 15px;"></h1>
            </div>
            <ul class="toolbar">
                <li><a href="#" id="property-format-tab-selector" onclick="CSReportEditor.cMainEditor.showPropertyTab('property-format-tab')">Format</a></li>
                <li><a href="#" id="property-formulas-tab-selector" onclick="CSReportEditor.cMainEditor.showPropertyTab('property-formulas-tab')">Formulas</a></li>
                <li><a href="#" id="property-borders-tab-selector" onclick="CSReportEditor.cMainEditor.showPropertyTab('property-borders-tab')">Borders</a></li>
                <li><a href="#" id="property-database-tab-selector" onclick="CSReportEditor.cMainEditor.showPropertyTab('property-database-tab')">Database</a></li>
                <li><a href="#" id="property-image-tab-selector" onclick="CSReportEditor.cMainEditor.showPropertyTab('property-image-tab')">Image</a></li>
                <li><a href="#" id="property-chart-tab-selector" onclick="CSReportEditor.cMainEditor.showPropertyTab('property-chart-tab')">Chart</a></li>
                <li><a href="#" id="property-section-tab-selector" onclick="CSReportEditor.cMainEditor.showPropertyTab('property-section-tab')">Section</a></li>
            </ul>

            <div class="property-tab" id="property-borders-tab" style="display: none;">
                <div>
                    <div>
                        <label>Type</label>
                        <select id="ctl-border-type">
                            <option>None</option>
                            <option>Flat</option>
                            <option>3D</option>
                        </select>
                    </div>
                    <div class="row">
                        <div>
                            <label>Color</label>
                            <div class="inner-row">
                                <input type="text" id="ctrl-border-color" style="width: 150px;"/>
                                <div style="margin-left: 10px; margin-top: 15px;">
                                    <label id="ctrl-border-color-sample" class="color-sample"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div>
                            <label>Color 3D</label>
                            <div class="inner-row">
                                <input type="text" id="ctrl-border-color-3d" style="width: 150px;"/>
                                <div style="margin-left: 10px; margin-top: 15px;">
                                    <label id="ctrl-border-color-3d-sample" class="color-sample"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div>
                            <label>Color 3D shadow</label>
                            <div class="inner-row">
                                <input type="text" id="ctrl-border-color-shadow" style="width: 150px;"/>
                                <div style="margin-left: 10px; margin-top: 15px;">
                                    <label id="ctrl-border-color-shadow-sample" class="color-sample"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="number7">
                        <label>width</label>
                        <input type="number" id="ctrl-border-width"/>
                    </div>
                    <div class="row">
                        <div class="inner-row">
                            <label style="margin-top: 10px;">Rounded borders
                                <input type="checkbox" id="ctrl-border-rounded"/>
                                <span></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="property-tab" id="property-chart-tab" style="display: none;"></div>

            <div class="property-tab" id="property-formulas-tab" style="display: none;">
                <div style="width: 95%;">
                    <div class="row">
                        <div class="inner-row">
                            <label style="margin-top: 10px;">The control has a formula to determine if it is visible
                                <input type="checkbox" id="ctrl-has-visible-formula"/>
                                <span></span>
                            </label>
                        </div>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label>The formula must return a non zero value to set the control to be visible</label>
                    </div>
                    <div class="boxed">
                        <div class="multiline-label" id="ctrl-visible-formula">Function x ()

 x =  _value( Control92 )  = 0

End Function
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <button style="margin-top: 10px;" id="ctrl-hide-formula-edit">Edit</button>
                    </div>
                    <div class="property-section">
                    </div>

                    <div class="row">
                        <div class="inner-row">
                            <label style="margin-top: 10px;">Use a formula to calculate the control's value
                                <input type="checkbox" id="ctrl-has-value-formula"/>
                                <span></span>
                            </label>
                        </div>
                    </div>
                    <div>
                        <p>
                            The value of the field "Execute only on this group" mus follow this rules:<br/>
                            <table>
                                <tr><td>-2000</td><td>for a formula which is located in header asections and must be evaluted before printing the first line of the detail section</td></tr>
                                <tr><td>+index</td><td>for a formula which is located in group headers</td></tr>
                                <tr><td>-index</td><td>for a formula which is located in group footers</td></tr>
                                <tr><td>0</td><td>for every formula which is located in detail section</td></tr>
                                <tr><td>-2001</td><td>for a formula which is located in footer sections</td></tr>
                            </table>
                        </p>
                        <label>Execute only on this group</label>
                        <input type="number" value="0" id="ctrl-formula-group">
                    </div>
                    <label>Execute</label>
                    <div class="row">
                        <div class="inner-row-radio">
                            <label style="margin-top: 10px;">before or
                                <input type="radio" name="whenExecute" id="ctrl-formula-run-before"/>
                                <span></span>
                            </label>
                            <label style="margin-top: 10px;">after printing the line
                                <input type="radio" name="whenExecute" id="ctrl-formula-run-after"/>
                                <span></span>
                            </label>
                        </div>
                    </div>
                    <div class="boxed" style="margin-top: 10px;">
                        <div class="multiline-label" id="ctrl-value-formula">Function x ()

 x =  _value( Control92 )  = 0

End Function
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <button style="margin-top: 10px;" id="ctrl-value-formula-edit">Edit</button>
                    </div>
                </div>
            </div> <!-- property-formulas-tab -->

            <div class="property-tab" id="property-database-tab" style="display: none;">
                <div>
                    <label>Field</label>
                    <div class="inner-row">
                        <input type="text" id="ctrl-db-field"/>
                        <button style="height: 35px;margin-top: 10px;margin-left: 10px;">...</button>
                    </div>
                </div>
            </div>

            <div class="property-tab" id="property-image-tab" style="display: none;">
                <div>
                    <label>Image</label>
                    <div class="inner-row">
                        <input type="text" id="ctrl-image-file"/>
                        <button style="height: 35px;margin-top: 10px;margin-left: 10px;">...</button>
                    </div>
                    <div id="ctrl-image-preview"></div>
                </div>
            </div>

            <div class="property-tab" id="property-format-tab">
                <div>
                    <label>Name</label>
                    <input type="text" id="ctrl-name"/>
                    <div class="property-section">
                    </div>
                    <label>Text</label>
                    <input type="text" id="ctrl-text"/>
                    <label>Tag</label>
                    <input type="text" id="ctrl-tag"/>
                    <div class="row">
                        <div>
                            <label>Font</label>
                            <select id="ctrl-font"></select>
                        </div>
                        <div>
                            <label>Size</label>
                            <input type="number" id="ctrl-font-size"/>
                        </div>
                    </div>
                    <div class="row">
                        <div>
                            <label>Align</label>
                            <select id="ctrl-align">
                                <option>Left</option>
                                <option>Center</option>
                                <option>Right</option>
                            </select>
                        </div>
                        <div>
                            <div class="inner-row">
                                <div class="col2">
                                    <label>Bold
                                        <input type="checkbox" id="ctrl-bold" />
                                        <span></span>
                                    </label>
                                </div>
                                <div class="col2">
                                    <label>Underline
                                        <input type="checkbox" id="ctrl-underline" />
                                        <span></span>
                                    </label>
                                </div>
                            </div>
                            <div class="inner-row">
                                <div class="col2">
                                    <label>Italic
                                        <input type="checkbox" id="ctrl-italic" />
                                        <span></span>
                                    </label>
                                </div>
                                <div class="col2">
                                    <label>Strike
                                        <input type="checkbox" id="ctrl-strike" />
                                        <span></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div>
                            <label>Text color</label>
                            <div class="inner-row">
                                <input type="text" style="width: 150px;" id="ctrl-text-color"/>
                                <div style="margin-left: 10px; margin-top: 15px;">
                                    <label id="ctrl-text-color-sample" class="color-sample"></label></div>
                            </div>
                        </div>
                        <div class="inner-row second-line">
                            <label>Transparent
                                <input type="checkbox" id="ctrl-transparent"/>
                                <span></span>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div>
                            <label>Back color</label>
                            <div class="inner-row">
                                <input type="text" style="width: 150px;" id="ctrl-back-color"/>
                                <div style="margin-left: 10px; margin-top: 15px; margin-right: 30px;">
                                    <label id="ctrl-back-color-sample" class="color-sample"></label>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label>Symbol</label>
                            <input type="text" id="ctrl-symbol"/>
                        </div>
                    </div>
                    <label>Format</label>
                    <input type="text" id="ctrl-format"/>

                    <div class="property-section" style="padding-top: 20px;">
                        <span>Position</span>
                    </div>
                    <div class="row">
                        <div class="number7">
                            <label>Left</label>
                            <input type="number" id="ctrl-left"/>
                        </div>
                        <div class="number7">
                            <label>Top</label>
                            <input type="number" id="ctrl-top"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="number7">
                            <label>Height</label>
                            <input type="number" id="ctrl-height"/>
                        </div>
                        <div class="number7">
                            <label>Width</label>
                            <input type="number" id="ctrl-width"/>
                        </div>
                    </div>
                    <div class="property-section">
                    </div>
                    <div class="row">
                        <div class="inner-row expand-width">
                            <div class="col2">
                                <label>The control can grow
                                    <input type="checkbox" id="ctrl-can-grow"/>
                                    <span></span>
                                </label>
                            </div>
                            <div class="col2">
                                <label>Wrap text
                                    <input type="checkbox" id="ctrl-wrap-text"/>
                                    <span></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="property-section">
                    </div>
                    <div class="row">
                        <div class="inner-row">
                            <label>The control is in the back of the page (the limit of the section doesn't apply to it)
                                <input type="checkbox" id="ctrl-is-in-background"/>
                                <span></span>
                            </label>
                        </div>
                    </div>
                    <div class="property-section">
                    </div>
                    <label>Column export ID for this control</label>
                    <input type="text" id="ctrl-export-id"/>
                </div>
            </div><!-- property-format-tab -->

            <div class="property-tab" id="property-section-tab" style="display: none;">
                <label>Name</label>
                <input type="text" id="section-name"/>
                <div class="property-section">
                </div>
                <div style="width: 95%;">
                    <div class="row">
                        <div class="inner-row">
                            <label style="margin-top: 10px;">The section has a formula to determine if it is visible
                                <input type="checkbox" id="section-has-visible-formula"/>
                                <span></span>
                            </label>
                        </div>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label>The formula must return a non zero value to set the section to be visible</label>
                    </div>
                    <div class="boxed">
                        <div class="multiline-label" id="section-visible-formula">Function x ()

 x =  _value( Control92 )  = 0

End Function
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <button style="margin-top: 10px;" id="ctrl-section-hide-formula-edit">Edit</button>
                    </div>
                    <div class="property-section">
                    </div>
                    <label>Section Line Name</label>
                    <label id="section-line-name"></label>
                    <div class="row">
                        <div class="inner-row">
                            <label style="margin-top: 10px;">The section line has a formula to determine if it is visible
                                <input type="checkbox" id="section-line-has-visible-formula"/>
                                <span></span>
                            </label>
                        </div>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label>The formula must return a non zero value to set the section line to be visible</label>
                    </div>
                    <div class="boxed">
                        <div class="multiline-label" id="section-line-visible-formula">Function x ()

 x =  _value( Control92 )  = 0

End Function
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <button style="margin-top: 10px;" id="ctrl-section-line-hide-formula-edit">Edit</button>
                    </div>
                </div>
            </div> <!-- property-section-tab -->

            <div class="footer-bar">
                <button>Apply</button>
            </div>
        </div>
    </div>

</div>

<footer>
    <p>footer</p>
</footer>

<!-- popup dialogs -->
<div style="display: none;">
    <div id="formula-dlg">
        <div class="dlg-header">
            <div class="inner-row-left" style="height: 60px;">
                <img src="images/properties/config_page.jpg" style="margin-left: 20px;">
                <h1 style="margin-left: 15px;">Formula Editor</h1>
            </div>
        </div>
        <div class="dlg-body">
            <div id="formula-dlg-tree"></div>
            <div class="dlg-right-panel">
                <div class="formula-dlg-formula-overview">
                    <label id="formula-dlg-description"></label>
                </div>
                <div class="formula-dlg-formula-code">
                    <textarea id="formula-dlg-code"></textarea>
                </div>
            </div>
        </div>
        <div class="dlg-footer">
            <button id="formula-dlg-apply">Apply</button>
            <button id="formula-dlg-cancel">Cancel</button>
        </div>
    </div>
    <div id="db-connect-dlg">
        <div class="dlg-header"></div>
        <div class="dlg-body">
        </div>
        <div class="dlg-footer">
            <button>Apply</button>
            <button>Cancel</button>
        </div>
    </div>
    <div id="seach-dlg">
    </div>
    <div id="page-setup-dlg">
        <div class="dlg-header"></div>
        <div class="dlg-body">
        </div>
        <div class="dlg-footer">
            <button>Apply</button>
            <button>Cancel</button>
        </div>
    </div>
    <div id="error-dlg">
        <div class="dlg-header">
            <div class="inner-row-left" style="height: 60px;">
                <img style="margin-left: 20px; width: 40px;" id="error-dlg-icon">
                <h1 style="margin-left: 15px;" id="error-dlg-title">Error</h1>
            </div>
        </div>
        <div class="dlg-body" style="padding: 50px;">
            <label id="error-dlg-description"></label>
            <label id="error-dlg-info-add"></label>
        </div>
        <div class="dlg-footer">
            <button id="error-dlg-okay">Ok</button>
        </div>
    </div>
    <div id="progress-dlg-template">
        <div class="dlg-header">
            <div class="inner-row-left" style="height: 60px;">
                <img style="margin-left: 20px;" class="progress-dlg-icon" src="images/properties/config_page.jpg">
                <h1 style="margin-left: 15px;" class="progress-dlg-title"></h1>
                <lable class="progress-dlg-task" style="margin-left: 15px;"></lable>
            </div>
        </div>
        <div class="dlg-body" style="padding: 50px;">
            <div>
                <div class="inner-row-left" style="height: 60px;">
                    <label>Generating page</label>
                    <label class="progress-dlg-curr-page" style="margin-left: 15px; margin-right: 30px; font-weight: bolder;"></label>
                    <label>Rows</label>
                    <label class="progress-dlg-row-count" style="margin-left: 15px; margin-right: 30px; font-weight: bolder;"></label>
                    <label>Current row</label>
                    <label class="progress-dlg-curr-row" style="margin-left: 15px; margin-right: 30px; font-weight: bolder;"></label>
                </div>
                <div class="progress-dlg-progress-bar">
                    <div class="progress-dlg-progress-bar-status"></div>
                </div>
            </div>
        </div>
        <div class="dlg-footer">
            <button class="progress-dlg-cancel">Cancel</button>
        </div>
    </div>
    <div id="preview-dlg-template">
        <div class="dlg-header">
            <div class="inner-row-left" style="height: 60px;">
                <img style="margin-left: 20px;" class="preview-dlg-icon" src="images/properties/config_page.jpg">
                <h1 style="margin-left: 15px;" class="preview-dlg-title"></h1>
            </div>
        </div>
        <div class="dlg-body" style="padding: 50px;">
            <div class="preview-dlg-report-preview"></div>
        </div>
        <div class="dlg-footer">
            <button class="preview-dlg-okay">Close</button>
        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="csreports.js"></script>
<script defer>

    String.prototype.contains = function(value) {
        let d = String(this);
        return(d.indexOf(value) > -1);
    };

    String.prototype.format = function(format) {
        return String(this);
    };

    function openTab(event, id) {
        console.log("Open " + id);
    }

    function closeTab(event, id) {
        event.stopPropagation();
        console.log("Close " + id);
    }
    (function() {
        CSReportEditor.cMainEditor.initEditor();
    }())

</script>
</html>